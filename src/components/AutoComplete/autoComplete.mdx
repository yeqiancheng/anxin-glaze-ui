import { Meta, Story, Canvas, Controls } from "@storybook/addon-docs/blocks";
import AutoComplete from "./autoComplete";
import * as AutoCompleteStories from "./autoComplete.stories";

### AutoComplete è‡ªåŠ¨å®Œæˆ

è‡ªåŠ¨å®Œæˆè¾“å…¥æ¡†ï¼Œæä¾›æ™ºèƒ½æœç´¢å»ºè®®åŠŸèƒ½ã€‚æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥æ•°æ®æºï¼Œå¯è‡ªå®šä¹‰æ¸²æŸ“æ¨¡æ¿ã€‚

#### ç‰¹æ€§

- ğŸ” æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥æ•°æ®æº
- âš¡ é˜²æŠ–æœç´¢ï¼Œæå‡æ€§èƒ½
- âŒ¨ï¸ é”®ç›˜å¯¼èˆªæ”¯æŒ
- ğŸ¨ è‡ªå®šä¹‰æ¸²æŸ“æ¨¡æ¿
- ğŸ‘† ç‚¹å‡»å¤–éƒ¨åŒºåŸŸå…³é—­
- ğŸ”„ åŠ è½½çŠ¶æ€æ˜¾ç¤º
- âœ¨ é«˜äº®å½“å‰é€‰é¡¹

#### ä½¿ç”¨åœºæ™¯

- **æœç´¢å»ºè®®**: ä¸ºç”¨æˆ·æä¾›æ™ºèƒ½æœç´¢æç¤º
- **æ•°æ®ç­›é€‰**: å¿«é€Ÿç­›é€‰å¤§é‡æ•°æ®
- **API æœç´¢**: è¿æ¥è¿œç¨‹ API è·å–æœç´¢ç»“æœ

<Meta of={AutoCompleteStories} />

## Props

<Controls />

## Example

### Default

<Canvas of={AutoCompleteStories.Default}></Canvas>

## åŸºæœ¬ç”¨æ³•

```tsx
import { AutoComplete } from "cream-design";

const App = () => {
  const handleFetch = (value: string) => {
    return ["apple", "banana", "cherry"]
      .filter((item) => item.includes(value))
      .map((item) => ({ value: item }));
  };

  return (
    <AutoComplete fetchSuggestions={handleFetch} placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹" />
  );
};
```

## å¼‚æ­¥æ•°æ®æº

æ”¯æŒå¼‚æ­¥è·å–æ•°æ®ï¼Œæ˜¾ç¤ºåŠ è½½çŠ¶æ€ã€‚

```tsx
const handleAsyncFetch = (value: string) => {
  return fetch(`/api/search?q=${value}`)
    .then((res) => res.json())
    .then((data) => data.map((item) => ({ value: item.name })));
};

<AutoComplete fetchSuggestions={handleAsyncFetch} placeholder="å¼‚æ­¥æœç´¢" />;
```

## è‡ªå®šä¹‰æ¸²æŸ“æ¨¡æ¿

å¯ä»¥è‡ªå®šä¹‰ä¸‹æ‹‰é€‰é¡¹çš„æ¸²æŸ“å†…å®¹ã€‚

```tsx
interface UserData {
  value: string;
  avatar: string;
  email: string;
}

const renderOption = (item: DataSourceType<UserData>) => (
  <div className="user-item">
    <img src={item.avatar} alt={item.value} />
    <div>
      <div>{item.value}</div>
      <div>{item.email}</div>
    </div>
  </div>
);

<AutoComplete
  fetchSuggestions={handleUserFetch}
  renderOption={renderOption}
  placeholder="æœç´¢ç”¨æˆ·"
/>;
```

## é”®ç›˜å¯¼èˆª

- `â†‘` `â†“` - ä¸Šä¸‹é€‰æ‹©é€‰é¡¹
- `Enter` - ç¡®è®¤é€‰æ‹©
- `Escape` - å…³é—­ä¸‹æ‹‰åˆ—è¡¨
